(()=>{"use strict";let e=[],t={projectName:"New Project",projectTasks:["New Task"],projectIndex:"new"};e.push({projectName:"First Project A",projectTasks:["Clean Car","Wash Dishes","Sleep"],projectIndex:1}),e.push({projectName:"First Project B",projectTasks:["Deep Space Exploration","Finding Nirvana","Trip To New York City"],projectIndex:2}),document.body,document.querySelector(".left"),document.querySelector(".right"),document.querySelector("#user-bar");const n=document.getElementById("tasks-bar"),a=document.getElementById("projects-bar"),o=document.getElementById("tasks-content"),c=document.getElementById("main-container"),d=document.getElementById("projects-content"),i=document.getElementById("view-all"),r=document.getElementById("add-new-project");let l=!1,s=!1;const p=function(e,t,n,a){const o=document.createElement("div");return o.className=e,o.innerHTML=t,o.id=n,o.dataset.key=a,o},u=function(e,t,n,a,o){const c=document.createElement("input");return c.className=e,c.innerHTML=t,c.type="text",c.name=o,c.id=n,c.dataset.key=a,c},m={clearMainContainer(){c.innerHTML=""},clearListContainer(e){e.innerHTML=""}},k=function(){m.clearMainContainer();const e=p("project-edit","","new-project",""),n=p("project-title-container","","",""),a=u("project-title",t.projectName,"edit-title"),o=p("save-button","Save","save-button",""),d=p("add-task-button","Add Task","add-task");o.dataset.key=2,a.innerHTML='<input type="text" id="name" name="name" required minlength="4" maxlength="8" size="10" />',a.value=t.projectName,o.addEventListener("click",(function(e){s=!0,j(t)})),d.addEventListener("click",(function(){t.projectTasks.push("New Task"),k()})),n.appendChild(a),n.appendChild(d),n.appendChild(o),e.appendChild(n),h(t,e),c.appendChild(e)},j=function(n){const a=document.getElementById("edit-title").value;n.projectName=a;for(let e=0;e<n.projectTasks.length;e++)n.projectTasks[e]=document.getElementById(`task${e}`).value;if("new"===n.projectIndex){const n={...t};n.projectIndex=e.length+1,e.push(n),(o=t).projectName="New Project",o.projectTasks=["New Task"],o.projectIndex="new",console.log(e)}var o;C(e,d),g(),s=!1},h=function(e,t,n){let a=0;e.projectTasks.forEach((o=>{const c=document.createElement("input"),d=document.createElement("div"),i=document.createElement("div"),r=document.createElement("div");d.id="task-description-bar",i.innerHTML=`Task ${a+1}`,r.innerHTML="X",r.id=a,r.dataset.key=e.projectIndex-1,c.innerHTML=`<input type="text" name="task${a}" required minlength="4" maxlength="40" size="15" />`,c.id=`task${a}`,c.value=o,s&&(e.projectTasks[a]=c.value),r.addEventListener("click",(function(){!function(e,t,n){const a=e.projectTasks.indexOf(t);e.projectTasks.splice(a,1)}(e,o),console.log(e.projectTasks),b(e,t,n,e.projectName,a)})),d.appendChild(i),d.appendChild(r),t.appendChild(d),t.appendChild(c),a++}))},C=function(e,t){m.clearListContainer(t);let n=0;e.forEach((e=>{if(e.projectName){let a=p("list-buttons",e.projectName,"",n);t.appendChild(a),n++}else{let a=p("list-buttons",e,"",n);t.appendChild(a),n++}})),r.style.backgroundColor="rgb(104, 209, 176)",r.addEventListener("click",(function(){k()}))},g=function(){var e;l?T(0):(e=s?"save":"view",m.clearMainContainer(),i.style.backgroundColor="rgb(104, 209, 176)",y(e))};const y=function(e){"view"===e?d.addEventListener("click",(function(e){void 0!==e.target.dataset.key&&v(e.target.dataset.key)})):c.addEventListener("click",(function(e){"save-button"===e.target.id&&(console.log(e.target.dataset.key),v(e.target.dataset.key))}))},v=function(t){l=!1;const n=t;i.style.backgroundColor="rgb(104, 209, 176)",m.clearMainContainer();const a=p("project-grid","",n,""),o=p("project-title-container","","",""),d=p("project-title",e[n].projectName),r=p("delete-project-button","X","delete-project",n),s=p("edit-button","Edit","edit",n);o.appendChild(d),o.appendChild(s),o.appendChild(r),a.appendChild(o),r.addEventListener("click",(()=>{E(e[n].projectIndex)})),s.addEventListener("click",(function(){b(e[n],a,o,e[n].projectName,n)})),L(e[n],a),c.appendChild(a)},f=function(e,t){e.addEventListener("click",(function(){"none"===t.style.display?t.style="display:":t.style.display="none"}))};function E(t){e=e.filter((e=>e.projectIndex!==t)),g(),C(e,d)}const T=function(t){m.clearMainContainer(),e.forEach((e=>{const n=p("project-grid","",t,""),a=p("project-title-container","","",""),o=p("project-title",e.projectName),d=p("delete-project-button","X","delete-project",t),r=p("edit-button","Edit","edit",t);a.appendChild(o),a.appendChild(r),a.appendChild(d),n.appendChild(a),d.addEventListener("click",(()=>{E(e.projectIndex)})),r.addEventListener("click",(function(){b(e,n,a,e.projectName,d.dataset.key)})),L(e,n),i.style.backgroundColor="rgb(69, 136, 115)",c.appendChild(n),t++}))};function b(e,t,n,a,o){m.clearMainContainer();const d=p("project-edit","",e,""),i=p("project-title-container","","",""),r=u("project-title",a,"edit-title"),l=p("save-button","Save","save-button",o),k=p("add-task-button","Add Task","add-task");l.dataset.key=e.projectIndex-1,r.innerHTML='<input type="text" id="name" name="name" required minlength="4" maxlength="8" size="10" />',r.value=a,l.addEventListener("click",(function(t){s=!0,j(e)})),k.addEventListener("click",(function(){e.projectTasks.push("New Task"),b(e,t,n,a,o)})),i.appendChild(r),i.appendChild(k),i.appendChild(l),d.appendChild(i),h(e,d,i),c.appendChild(d)}const L=function(e,t){void 0!==e.projectTasks&&e.projectTasks.forEach((e=>{const n=document.createElement("div");n.innerHTML=e,t.appendChild(n)}))};var N,x;f(n,o),f(a,d),x="rgb(69, 136, 115)",(N=a).addEventListener("click",(function(){N.style.backgroundColor===x?N.style.backgroundColor="rgb(104, 209, 176)":N.style.backgroundColor=x})),d.style.display="none",a.style.backgroundColor="rgb(104, 209, 176)",C(e,d),C([""],o),g(),i.addEventListener("click",(function(){l=!0,g()}))})();