(()=>{"use strict";let e=[],t={projectName:"New Project",projectTasks:[{name:"Task Name",description:"Task Description",status:"Not Complete"}],projectIndex:"new"};e.push({projectName:"Test Project 1",projectTasks:[{name:"Task 1",description:"Task Description 1",status:"Not Complete"},{name:"Task  2",description:"Task Description 2",status:"Not Complete"}],projectIndex:1}),e.push({projectName:"Test Project 2",projectTasks:[{name:"Task 1",description:"Task Description 1",status:"Not Complete"}],projectIndex:2}),document.body,document.querySelector(".left"),document.querySelector(".right"),document.querySelector("#user-bar");const n=document.getElementById("tasks-bar"),a=document.getElementById("projects-bar"),i=document.getElementById("tasks-content"),c=document.getElementById("main-container"),o=document.getElementById("projects-content"),d=document.getElementById("view-all"),s=document.getElementById("add-new-project"),r=function(e,t,n,a){const i=document.createElement("div");return i.className=e,i.innerHTML=t,i.id=n,i.dataset.key=a,i},l=function(e,t,n,a,i){const c=document.createElement("input");return c.className=e,c.innerHTML=t,c.type="text",c.name=i,c.id=n,c.dataset.key=a,c},p={clearMainContainer(){c.innerHTML=""},clearListContainer(e){e.innerHTML=""}},u={viewAll:!1,clickedSave:!1,setViewAll(e){this.viewAll=!!e},setClickedSave(e){this.clickedSave=!!e}},m=function(t){const n=[],a=t,i=r("project-grid","",a,""),c=r("project-title-container","","",""),o=r("project-title",e[a].projectName),d=r("delete-project-button","X","delete-project",a),s=r("edit-button","Edit","edit",a);return c.appendChild(o),c.appendChild(s),c.appendChild(d),i.appendChild(c),n.push(a),n.push(i),n.push(c),n.push(o),n.push(d),n.push(s),n},k=function(n,a){p.clearListContainer(a);let i=0;n.forEach((e=>{if(e.projectName){let t=r("list-buttons",e.projectName,"",i);a.appendChild(t),i++}else{let t=r("list-buttons",e,"",i);a.appendChild(t),i++}})),s.style.backgroundColor="rgb(104, 209, 176)",s.addEventListener("click",(function(){!function(e){p.clearMainContainer();const n=r("project-edit","","new-project",""),a=r("project-title-container","","",""),i=l("project-title",t.projectName,"edit-title"),o=r("save-button","Save","save-button",""),d=r("add-task-button","Add Task","add-task");o.dataset.key=e,i.innerHTML='<input type="text" id="name" name="name" required minlength="4" maxlength="8" size="10" />',i.value=t.projectName,o.addEventListener("click",(function(e){u.setClickedSave(!0),E(t)})),d.addEventListener("click",(function(){t.projectTasks.push({name:"Task Name",description:"Task Description",status:"Not Completed"});const i=document.getElementById("edit-title").value;t.projectName=i;for(let e=0;e<t.projectTasks.length-1;e++)t.projectTasks[e].name=document.getElementById(`taskName${e}`).value,t.projectTasks[e].description=document.getElementById(`taskDescription${e}`).value;f(t,n,a,t.projectName,0,e)})),a.appendChild(i),a.appendChild(d),a.appendChild(o),n.appendChild(a),b(t,n),c.appendChild(n)}(e.length)}))},j=function(){u.viewAll?T(0):u.clickedSave?v("save"):v("view")};function v(e){p.clearMainContainer(),d.style.backgroundColor="rgb(104, 209, 176)",y(e)}const y=function(e){"view"===e?o.addEventListener("click",(function(e){void 0!==e.target.dataset.key&&C(e.target.dataset.key)})):c.addEventListener("click",(function(e){"save-button"===e.target.id&&C(e.target.dataset.key)}))},C=function(t){u.setViewAll(!1),d.style.backgroundColor="rgb(104, 209, 176)",p.clearMainContainer();const n=m(t);n[4].addEventListener("click",(()=>{g(e[t].projectIndex)})),n[5].addEventListener("click",(function(){f(e[t],n[1],n[2],e[t].projectName,t,t)})),N(e[t],n[1]),c.appendChild(n[1])};function g(t){e=e.filter((e=>e.projectIndex!==t)),j(),k(e,o)}function h(e,t,n){const a=e.projectTasks.indexOf(t);e.projectTasks.splice(a,1)}const T=function(t){p.clearMainContainer(),e.forEach((e=>{const n=m(t);n[4].addEventListener("click",(()=>{g(e.projectIndex)})),n[5].addEventListener("click",(function(){f(e,n[1],n[2],e.projectName,n[4].dataset.key,n[4].dataset.key)})),N(e,n[1],t),d.style.backgroundColor="rgb(69, 136, 115)",c.appendChild(n[1]),t++}))},E=function(n){const a=document.getElementById("edit-title").value;n.projectName=a;for(let e=0;e<n.projectTasks.length;e++)n.projectTasks[e].name=document.getElementById(`taskName${e}`).value,n.projectTasks[e].description=document.getElementById(`taskDescription${e}`).value;if("new"===n.projectIndex){const n={...t};n.projectIndex=e.length+1,e.push(n),(i=t).projectName="New Project",i.projectTasks=[{name:"Task Name",description:"Task Description",status:"Not Complete"}],i.projectIndex="new"}var i;k(e,o),j(),u.clickedSave=!1};function f(e,t,n,a,i,o){p.clearMainContainer();const d=r("project-edit","",e,""),s=r("project-title-container","","",""),m=l("project-title",a,"edit-title"),k=r("save-button","Save","save-button",i),j=r("add-task-button","Add Task","add-task");k.dataset.key=o,m.innerHTML='<input type="text" id="name" name="name" required minlength="4" maxlength="8" size="10" />',m.value=a,k.addEventListener("click",(function(t){u.setClickedSave(!0),E(e)})),j.addEventListener("click",(function(){e.projectTasks.push({name:"Task Name",description:"Task Description",status:"Not Completed"});const c=document.getElementById("edit-title").value;a=c;for(let t=0;t<e.projectTasks.length-1;t++)e.projectTasks[t].name=document.getElementById(`taskName${t}`).value,e.projectTasks[t].description=document.getElementById(`taskDescription${t}`).value;e.projectName=document.getElementById("edit-title").value,f(e,t,n,a,i,o)})),s.appendChild(m),s.appendChild(j),s.appendChild(k),d.appendChild(s),b(e,d,s),c.appendChild(d)}const N=function(e,t){if(e.projectTasks&&Array.isArray(e.projectTasks)){let n=0;for(let a of e.projectTasks){const i=document.createElement("div"),c=document.createElement("div"),o=document.createElement("div");i.id=`taskDiv${n}`,i.className="taskContainer",c.className="taskTitle";let d=document.createElement("div"),s=document.createElement("div"),r=document.createElement("div"),l=document.createElement("input");d.innerHTML=a.status,l.id=n,l.type="checkbox",l.addEventListener("click",(function(t){L(e,t),!0===u.viewAll?j():C(e.projectIndex-1)})),s.innerHTML=a.name,r.innerHTML=a.description,I(a,i),o.className="statusContainer",o.appendChild(d),o.appendChild(l),c.appendChild(s),c.appendChild(o),i.appendChild(c),i.appendChild(r),t.appendChild(i),n++}}},b=function(e,t,n){let a=0;for(let i of e.projectTasks){const c=document.createElement("input"),o=document.createElement("div"),d=document.createElement("input"),s=document.createElement("div");o.id="task-description-bar",d.innerHTML=`<input type="text" name="${i.name}" required minlength="4" maxlength="40" size="15" />`,s.innerHTML="X",s.id=a,s.dataset.key=e.projectIndex-1,c.innerHTML=`<input type="text" name="task${a}" required minlength="4" maxlength="40" size="15" />`,c.id=`taskDescription${a}`,c.value=i.description,d.value=i.name,d.id=`taskName${a}`,u.clickedSave&&(e.projectTasks.name=d.value,e.projectTasks.description=c.value),s.addEventListener("click",(function(){h(e,i),f(e,t,n,e.projectName,a)})),o.appendChild(d),o.appendChild(s),t.appendChild(o),t.appendChild(c),a++}},L=function(e,t){"Completed"===e.projectTasks[t.target.id].status?e.projectTasks[t.target.id].status="Not Completed":e.projectTasks[t.target.id].status="Completed"},I=function(e,t){"Completed"===e.status?t.style.backgroundColor="#f0b429":t.style.backgroundColor="rgb(224 202 125)"};var x,w;n.addEventListener("click",(function(){"none"===i.style.display?i.style="display:":i.style.display="none"})),a.addEventListener("click",(function(){"none"===o.style.display?o.style="display:":o.style.display="none"})),w="rgb(69, 136, 115)",(x=a).addEventListener("click",(function(){x.style.backgroundColor===w?x.style.backgroundColor="rgb(104, 209, 176)":x.style.backgroundColor=w})),o.style.display="none",a.style.backgroundColor="rgb(104, 209, 176)",k(e,o),k([""],i),u.setViewAll(!0),j(),o.addEventListener("click",(function(e){void 0!==e.target.dataset.key&&C(e.target.dataset.key)})),d.addEventListener("click",(function(){u.setViewAll(!0),j()}))})();