(()=>{"use strict";let e=[],t={projectName:"New Project",projectTasks:[{name:"Task Name",description:"Task Description",status:!1}],projectIndex:"new"};e.push({projectName:"Test Project 1",projectTasks:[{name:"Task 1",description:"Task Description 1",status:!1},{name:"Task  2",description:"Task Description 2",status:!1}],projectIndex:1}),e.push({projectName:"Test Project 2",projectTasks:[{name:"Task 1",description:"Task Description 1",status:!1}],projectIndex:2}),document.getElementById("projectTemplate"),document.getElementById("taskTemplate");const n=document.querySelector(".projects-container"),a=document.querySelector(".completed-tasks-container");function o(){a.innerHTML="";for(const t of e){const n=document.createElement("div"),o=document.createElement("div"),s=document.createElement("div");n.className="tasks-list-container",o.className="completed-task-project-name",o.id=e.indexOf(t),o.innerHTML=t.projectName;for(const e of t.projectTasks)if(!0===e.status){const i=document.createElement("div");i.innerHTML=e.name,s.appendChild(i);let c=`${t.projectName}`;c=c.replace(/ /g,"_"),console.log(c),document.getElementById(c)?(n.appendChild(s),a.appendChild(n)):(n.appendChild(o),n.appendChild(s),a.appendChild(n))}}}function s(e,t,n){!0===n.status?(e.style.backgroundColor="rgb(235 209 178)",e.classList.add("strike"),t.checked=!0,o()):(e.style.backgroundColor="rgb(255, 244, 230",t.checked=!1,e.classList.remove("strike"),o())}const i={view:"all",style:"view",getStatus:function(){return{view:this.view,style:this.style}}};function c(e){const t=document.createElement("div"),n=document.createElement("div");return"view"===e?{mainContainer:t,projectNameContainer:n,projectName:document.createElement("div"),editProjectButton:document.createElement("button"),deleteProjectButton:document.createElement("button")}:{mainContainer:t,projectNameContainer:n,projectName:document.createElement("input"),addTaskButton:document.createElement("button"),saveButton:document.createElement("button"),deleteProjectButton:document.createElement("button")}}function r(t,n,a,s){return t.mainContainer.className="project-container",t.projectNameContainer.className="project-name-container",t.projectName.className="project-name","view"===n?(t.editProjectButton.className="add-task-button",t.editProjectButton.innerText="Edit Project",t.editProjectButton.id=s,t.deleteProjectButton.className="delete-project-button",t.deleteProjectButton.innerText="Delete Project",t.projectName.innerText=a.projectName,t.editProjectButton.addEventListener("click",(()=>{p("edit","single",s)})),t.deleteProjectButton.addEventListener("click",(()=>{!function(t){e=e.filter((e=>e!==t))}(a),o(),p("view","all")})),t.projectNameContainer.appendChild(t.projectName),t.projectNameContainer.appendChild(t.editProjectButton),t.projectNameContainer.appendChild(t.deleteProjectButton),t.mainContainer.appendChild(t.projectNameContainer),t.mainContainer):(t.projectName.value=a.projectName,t.addTaskButton.className="add-task-button",t.addTaskButton.innerText="Add New Task",t.saveButton.className="save-button",t.saveButton.innerText="Save",t.deleteProjectButton.className="delete-project-button",t.deleteProjectButton.innerText="Delete Project",t.projectName.innerText=a.projectName,t.addTaskButton.addEventListener("click",(()=>{!function(e){const t={name:`Task ${e.projectTasks.length+1}`,description:`Task Description ${e.projectTasks.length+1}`,status:!1};e.projectTasks.push(t)}(a),p("edit","single",s)})),t.saveButton.addEventListener("click",(()=>{!function(e,t){t.projectName=e.projectName.value;let n=0;for(let e of t.projectTasks)e.name=document.querySelector(`#name${n}`).value,e.description=document.querySelector(`#description${n}`).value,n++}(t,a),p(i.getStatus().style,i.getStatus().view,s)})),t.projectNameContainer.appendChild(t.projectName),t.projectNameContainer.appendChild(t.addTaskButton),t.projectNameContainer.appendChild(t.saveButton),t.mainContainer.appendChild(t.projectNameContainer),t.mainContainer)}function d(t,n,a,i,c){return t.taskContainer.className="task-container",t.taskNameContainer.className="task-name-container",t.taskDescriptionContainer.className="task-description-container","view"===n?(t.taskName.className="task-name",t.taskName.innerText=a.name,t.taskName.id=`name${i}`,t.taskStatus.type="checkbox",t.taskStatus.innerHTML="Not Complete",t.taskStatus.innerText=a.status,t.taskStatus.id=`status${i}`,t.taskDescription.id=`description${i}`,t.taskDescription.className="task-description",t.taskDescription.innerText=a.description,t.taskStatus.addEventListener("change",(()=>{!0===t.taskStatus.checked?a.status=!0:a.status=!1,s(t.taskContainer,t.taskStatus,a)})),s(t.taskContainer,t.taskStatus,a),t.taskNameContainer.appendChild(t.taskName),t.taskNameContainer.appendChild(t.taskStatus),t.taskContainer.appendChild(t.taskNameContainer),t.taskDescriptionContainer.appendChild(t.taskDescription),t.taskContainer.appendChild(t.taskDescriptionContainer),t.taskContainer):(t.taskName.className="task-name",t.taskName.value=a.name,t.taskName.id=`name${i}`,t.taskDescription.id=`description${i}`,t.deleteTaskButton.className="delete-task-button",t.deleteTaskButton.innerText="X",t.taskDescription.className="task-description",t.taskDescription.value=a.description,t.deleteTaskButton.addEventListener("click",(()=>{!function(t,n){e[n].projectTasks=e[n].projectTasks.filter((e=>e!==t))}(a,c),o(),p("edit","single",c)})),t.taskNameContainer.appendChild(t.taskName),t.taskNameContainer.appendChild(t.deleteTaskButton),t.taskContainer.appendChild(t.taskNameContainer),t.taskDescriptionContainer.appendChild(t.taskDescription),t.taskContainer.appendChild(t.taskDescriptionContainer),t.taskContainer)}function l(e){const t=document.createElement("div"),n=document.createElement("div"),a=document.createElement("div");return"view"===e?{taskContainer:t,taskNameContainer:n,taskName:document.createElement("div"),taskStatus:document.createElement("input"),taskDescriptionContainer:a,taskDescription:document.createElement("div")}:{taskContainer:t,taskNameContainer:n,taskName:document.createElement("input"),deleteTaskButton:document.createElement("button"),taskDescriptionContainer:a,taskDescription:document.createElement("input")}}function p(t,a,o){if(function(){const t=document.querySelector(".projects-list-container");t.innerHTML="";for(let n of e){const a=document.createElement("button");a.innerText=n.projectName,a.id=e.indexOf(n),a.dataset.buttons="list-buttons",a.className="project-buttons",a.addEventListener("click",(()=>{p("view","single",a.id)})),t.appendChild(a)}}(),n.innerHTML="","single"===a){const a=document.createElement("div");a.className="main-container";const s=r(c(t),t,e[o],o);a.appendChild(s);let i=0;for(let n of e[o].projectTasks){const e=d(l(t),t,n,i,o);a.appendChild(e),i++}n.appendChild(a)}else for(let a of e){const o=document.createElement("div");o.className="main-container";const s=r(c(t),t,a,e.indexOf(a));o.appendChild(s);let i=0;for(let e of a.projectTasks){const n=d(l(t),t,e);o.appendChild(n),i++}n.appendChild(o)}}!function(){const n=document.querySelector("#view-all-button"),a=document.querySelector("#add-new-project-button");n.addEventListener("click",(()=>{i.view="all",i.style="view",p("view")})),a.addEventListener("click",(()=>{!function(){const n=structuredClone(t);e.push(n),p("edit","single",e.length-1)}()}))}(),p(i.getStatus().style)})();